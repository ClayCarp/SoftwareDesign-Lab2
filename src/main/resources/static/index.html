<!DOCTYPE html>
<html>
<head>
    <title>Spring Boot App</title>
    <link rel="stylesheet" type="text/css" href="/css/styles.css">
    <script>
        // Function to fetch the health status from the actuator endpoint
        function fetchHealthStatus() {
            fetch('/actuator/health')
                .then(response => response.json()) // Parse the response as JSON
                .then(data => {
                    if (data.status === 'UP') {
                        alert('Application is healthy!');
                    } else {
                        alert('Application health status: ' + data.status);
                    }
                })
                .catch(error => {
                    alert('Failed to fetch health status: ' + error);
                });
        }

        // Function to fetch data from an external URL via Spring Boot
        function fetchExternalData() {
            const url = 'https://www.example.com';  // Replace with the desired external URL
            fetch(`/external?url=${encodeURIComponent(url)}`)
                .then(response => response.text())  // Parse the response as text
                .then(data => {
                    alert('External data fetched: ' + data); // Display fetched data
                })
                .catch(error => {
                    alert('Failed to fetch external data: ' + error);
                });
        }
    </script>
</head>
<body>
<div class="main-grid">
    <h1>Welcome to My Web App!</h1>
    <div>
        <button onclick="window.open('https://www.youtube.com', '_blank')">YouTube</button>
        <button onclick="window.open('https://www.google.com', '_blank')">Google</button>
        <button onclick="window.open('https://my.uca.edu', '_blank')">MyUCA</button>
    </div>
    <div>
        <!-- Button to fetch health status from the /actuator/health endpoint -->
        <button onclick="fetchHealthStatus()">Web Health</button>
    </div>
    <div>
        <!-- Button to fetch external data from the /external endpoint -->
        <button onclick="fetchExternalData()">Fetch External Data</button>
    </div>
</div>
</body>
</html>